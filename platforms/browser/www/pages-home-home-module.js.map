{"version":3,"sources":["webpack:///./src/app/components/popover/popover.component.html","webpack:///./src/app/components/popover/popover.component.scss","webpack:///./src/app/components/popover/popover.component.ts","webpack:///./src/app/pages/home/home.module.ts","webpack:///./src/app/pages/home/home.page.html","webpack:///./src/app/pages/home/home.page.scss","webpack:///./src/app/pages/home/home.page.ts"],"names":[],"mappings":"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","file":"pages-home-home-module.js","sourcesContent":["module.exports = \"\\n  <ion-item>\\n      <a routerLink=\\\"/about\\\" routerLinkActive=\\\"active\\\" (click)=\\\"close()\\\"> A propos de l'application</a>\\n  </ion-item>\\n  <ion-item>\\n   <a href='https://www.bm-lyon.fr' (click)=\\\"close()\\\" >Visiter le site de la BML</a>\\n  </ion-item>\\n  <ion-item>\\n    <a [routerLink]=\\\"['/contact']\\\" routerLinkActive=\\\"active\\\" (click)=\\\"close()\\\" >Contacter la BML</a>\\n  </ion-item>\\n\\n\"","module.exports = \"a {\\n  text-decoration: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZhYmllbi9jb21wYWdub25ibWwvc3JjL2FwcC9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFvQixFQUN2QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXtcbiAgICB0ZXh0LWRlY29yYXRpb246bm9uZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PopoverController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-popover',\n  templateUrl: './popover.component.html',\n  styleUrls: ['./popover.component.scss']\n})\nexport class PopoverComponent implements OnInit {\n\n\n  constructor(\n    private pop:PopoverController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  close() {\n    this.pop.dismiss();\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePage } from './home.page';\nimport{ PopoverComponent} from \"../../components/popover/popover.component\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HomePage,PopoverComponent],\n  entryComponents: [PopoverComponent]\n})\nexport class HomePageModule {}\n","module.exports = \"<ion-header >\\n  <ion-toolbar color=\\\"primary\\\">\\n\\n    <ion-buttons slot=\\\"secondary\\\">   \\n      <ion-button icon-only (click)=\\\"presentPopover($event)\\\">\\n        <ion-icon name=\\\"more\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title >\\n      <img class='logo 'src=\\\"assets/imgs/logo.png\\\" > Visites des expos de la BML\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content color=\\\"bckPageLight\\\">\\n  <p class='title-principal big-text '>En ce moment à la BML</p>\\n  <ion-row >\\n    <ion-col *ngFor=\\\"let expo of exposNow\\\">\\n      <ion-item  href='/expo/{{expo.slug}}' color=\\\"none\\\" lines=\\\"none\\\">\\n        <ion-card color=\\\"light\\\" >\\n            <ion-card-content>\\n              <img src=\\\"{{ expo.imageUrl }}\\\">\\n              <ion-card-title class='home-title'>\\n                <span class='title-second'>{{ expo.title1 }}</span>\\n              </ion-card-title>\\n              <p>\\n                <span class='title-third' *ngIf=\\\"expo.title2\\\">{{ expo.title2 }}</span><br />\\n                <span class='home-date'>du {{expo.start | date: \\\"dd/MM/yyyy\\\" }} au {{expo.end | date: \\\"dd/MM/yyyy\\\" }}<br>{{expo.place}}</span>\\n              </p>\\n            </ion-card-content>\\n        </ion-card>\\n      </ion-item>\\n      \\n    </ion-col>\\n  </ion-row>\\n\\n\\n\\n  <p *ngIf=\\\"exposOld.length>0\\\" class='title-principal big-text'>Expositions passées </p>\\n\\n  <ion-list *ngIf=\\\"exposOld.length>0\\\">\\n      <ion-item *ngFor=\\\"let expo of exposOld\\\" href='/expo/{{expo.slug}}' color=\\\"bckPageDark\\\" >\\n        <ion-thumbnail item-start >\\n          <img class='fit-thumbnail 'src=\\\"{{ expo.imageUrl }}\\\">\\n        </ion-thumbnail>\\n        <ion-label>\\n          <h2 class='title-list'>{{ expo.title1 }}</h2>\\n          <p><span class='title-third'>{{ expo.title2 }}</span><br>\\n          <span class='home-date'>du {{expo.start | date: \\\"dd/MM/yyyy\\\" }} au {{expo.end | date: \\\"dd/MM/yyyy\\\" }}</span></p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n</ion-content>\"","module.exports = \"ion-list ion-label {\\n  margin-left: 10px; }\\n\\nion-item {\\n  --inner-padding-end:none;\\n  --inner-padding-start:none;\\n  --padding-start:none;\\n  --padding-end:none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZhYmllbi9jb21wYWdub25ibWwvc3JjL2FwcC9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRVEsa0JBQWdCLEVBQ25COztBQUdMO0VBQ0kseUJBQW9CO0VBQ3BCLDJCQUFzQjtFQUN0QixxQkFBZ0I7RUFDaEIsbUJBQWMsRUFFakIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWxpc3R7XG4gICAgaW9uLWxhYmVse1xuICAgICAgICBtYXJnaW4tbGVmdDoxMHB4O1xuICAgIH1cbn1cbiBcbmlvbi1pdGVte1xuICAgIC0taW5uZXItcGFkZGluZy1lbmQ6bm9uZTtcbiAgICAtLWlubmVyLXBhZGRpbmctc3RhcnQ6bm9uZTtcbiAgICAtLXBhZGRpbmctc3RhcnQ6bm9uZTtcbiAgICAtLXBhZGRpbmctZW5kOm5vbmU7XG4gICAgXG59XG5cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { PopoverController } from '@ionic/angular';\nimport { ExposService } from '../../providers/expos.service';\nimport * as firebase from 'firebase';\nimport { Observable } from \"rxjs\";\nimport { PopoverComponent } from '../../components/popover/popover.component';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  expos = new Observable<any>();\n  exposNow = new Array<any>();\n  exposOld = new Array<any>();\n\n  constructor(    \n      private popoverController: PopoverController,\n      private expoProvider:ExposService,\n      private router:Router,\n      public loadingController: LoadingController\n    ) {  \n\n     }\n  \n    ionViewDidLoad() {\n      \n    }\n    \n\n  \n    goToExpo(expo){\n      this.router.navigateByUrl(\"/expo/\"+expo.slug);\n    }\n  \n    async presentPopover(ev:any) {\n      const popover = await this.popoverController.create({\n        component: PopoverComponent,\n        event: ev,\n        translucent: true\n      });\n      return await popover.present();\n    }\n  \n    async getExposList(){\n      let loading = await this.loadingController.create({\n        message: 'Chargement des expositions',\n      });\n      await loading.present();\n\n      var currentDate= new Date();\n      var storage = firebase.storage();\n        this.expoProvider.getExpos(\"expos\").then((data)=>{\n          //this.expos = data.reverse();\n          for(let expo of data){\n            if(expo.image!=\"\"){\n              storage.ref().child(expo.image).getDownloadURL().then(function(url){\n                expo.imageUrl=url;\n              });\n    \n    \n              if(new Date(expo.end) < currentDate){\n                this.exposOld.push(expo);\n              }else{\n                this.exposNow.push(expo);\n              }\n            }\n\n          }\n          this.exposOld.reverse();\n          this.exposNow.reverse();\n          loading.dismiss();\n        });\n  \n    }\n  \n  \n    ngOnInit() {\n      this.getExposList();\n    }\n  \n}\n"],"sourceRoot":""}